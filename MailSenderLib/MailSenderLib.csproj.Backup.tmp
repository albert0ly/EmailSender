<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>

    <!-- Keep AssemblyVersion stable for compatibility; only bump manually on breaking changes -->
    <AssemblyVersion>1.0.0.0</AssemblyVersion>

    <!-- Build number parts: day of year and HHmm to keep values within 0..65535 -->
    <BuildDay>$([System.DateTime]::UtcNow.DayOfYear)</BuildDay>
    <BuildTime>$([System.DateTime]::UtcNow.ToString("HHmm"))</BuildTime>

    <!-- FileVersion is safe to change every build and is shown in file properties -->
    <FileVersion>1.0.$(BuildDay).$(BuildTime)</FileVersion>
    <AssemblyFileVersion>$(FileVersion)</AssemblyFileVersion>

    <!-- Assembly product name shown in file properties -->
    <AssemblyProduct>MailSenderLib</AssemblyProduct>

    <!-- Human-readable informational version. Use full UTC date/time to be friendly and recognizable. -->
    <BuildDateUtc>$([System.DateTime]::UtcNow.ToString("yyyy-MM-dd HH:mm 'UTC'"))</BuildDateUtc>
    <InformationalVersion>1.0.0 (build $(BuildDateUtc))</InformationalVersion>

    <!-- Explicitly set AssemblyInformationalVersion to prevent other tooling from appending metadata like git SHA -->
    <AssemblyInformationalVersion>1.0.0 (build $(BuildDateUtc))</AssemblyInformationalVersion>

    <!-- Optional: basic product/company attributes for cleaner file properties -->
    <Company>Infobay</Company>
    <Product>MailSenderLib</Product>

    <!-- Disable SDK automatic generation of assembly attributes so we can control them exactly -->
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
  </PropertyGroup>

  <PropertyGroup>
    <Deterministic>false</Deterministic>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Azure.Identity" Version="1.11.4" />
    <PackageReference Include="Newtonsoft.Json" Version="13.0.3" />
  </ItemGroup>

  <ItemGroup>
    <Folder Include="Properties\" />
  </ItemGroup>
</Project>
